{"version":3,"sources":["../../../../../../../src/webgpu/api/validation/encoding/cmds/render/setPipeline.spec.ts"],"names":["description","makeTestGroup","ValidationTest","kRenderEncodeTypes","g","test","desc","paramsSubcasesOnly","u","combine","fn","t","encoderType","state","params","pipeline","createRenderPipelineWithState","encoder","finish","createEncoder","setPipeline","expectValidationError"],"mappings":";AAAA;AACA,GADA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA,CAFO,CAIP,SAASC,aAAT,QAA8B,kDAA9B;AACA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,6BAAnD;;AAEA,OAAO,MAAMC,CAAC,GAAGH,aAAa,CAACC,cAAD,CAAvB;;AAEPE,CAAC,CAACC,IAAF,CAAO,kBAAP;AACGC,IADH;AAEK;AACL;AACA,GAJA;;AAMGC,kBANH,CAMsB,CAAAC,CAAC;AACnBA,CAAC,CAACC,OAAF,CAAU,aAAV,EAAyBN,kBAAzB,EAA6CM,OAA7C,CAAqD,OAArD,EAA8D,CAAC,OAAD,EAAU,SAAV,CAA9D,CAPJ;;AASGC,EATH,CASMC,CAAC,IAAI;AACP,QAAM,EAAEC,WAAF,EAAeC,KAAf,KAAyBF,CAAC,CAACG,MAAjC;AACA,QAAMC,QAAQ,GAAGJ,CAAC,CAACK,6BAAF,CAAgCH,KAAhC,CAAjB;;AAEA,QAAM,EAAEI,OAAF,EAAWC,MAAX,KAAsBP,CAAC,CAACQ,aAAF,CAAgBP,WAAhB,CAA5B;AACAK,EAAAA,OAAO,CAACG,WAAR,CAAoBL,QAApB;;AAEAJ,EAAAA,CAAC,CAACU,qBAAF,CAAwB,MAAM;AAC5BH,IAAAA,MAAM;AACP,GAFD,EAEGL,KAAK,KAAK,SAFb;AAGD,CAnBH","sourcesContent":["export const description = `\nValidation tests for setPipeline on render pass and render bundle.\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { ValidationTest, kRenderEncodeTypes } from '../../../validation_test.js';\n\nexport const g = makeTestGroup(ValidationTest);\n\ng.test('invalid_pipeline')\n  .desc(\n    `\nTests setPipeline should generate an error iff using an 'invalid' pipeline.\n  `\n  )\n  .paramsSubcasesOnly(u =>\n    u.combine('encoderType', kRenderEncodeTypes).combine('state', ['valid', 'invalid'] as const)\n  )\n  .fn(t => {\n    const { encoderType, state } = t.params;\n    const pipeline = t.createRenderPipelineWithState(state);\n\n    const { encoder, finish } = t.createEncoder(encoderType);\n    encoder.setPipeline(pipeline);\n\n    t.expectValidationError(() => {\n      finish();\n    }, state === 'invalid');\n  });\n"],"file":"setPipeline.spec.js"}